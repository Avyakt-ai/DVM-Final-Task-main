{% extends 'railway_staff/base.html' %}
{% block title %}Update Trains{% endblock %}
{% block content %}
    {% for message in messages %}
        <br>
        <div class="alert alert-success">
            {{ message }}
        </div>
    {% endfor %}
    <div class="well">
        <h1>Update Train</h1>

        <!-- Display the list of trains -->
        <h2>List of Trains</h2>
        {% for train in trains %}
            <form method="get">
                <input type="hidden" name="train_id" value="{{ train.id }}">
                <button type="submit">Train: {{ train.train_name }}</button>
            </form>
        {% endfor %}

        <!-- Update form for the selected train -->
        {% if show_form %}
            <h2>Update Train: {{ selected_train.train_name }}</h2>
            <form method="post">
                {% csrf_token %}
                {{ form.as_p }}
                <input type="hidden" name="train_id" value="{{ selected_train.id }}">
                <button type="submit" name="action" value="button1">Update</button>
                <button type="submit" onclick="return confirm('Are you sure you want to delete the Train')" name="action" value="button2">Delete Train</button>
            </form>
        {% endif %}
    </div>
{% endblock %}
